
<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ai‑mikuji ✦ TOP</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>
:root{--p1:#ff6ec7;--p2:#ff9bde;--p3:#ffd8f0;}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Poppins',sans-serif;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;background:linear-gradient(135deg,var(--p1),var(--p2),var(--p3));animation:bg 12s ease-in-out infinite alternate;}
@keyframes bg{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(60deg)}}
h1{font-size:clamp(1.8rem,5vw,3rem);color:#fff;text-shadow:0 4px 8px rgba(0,0,0,.25);margin-bottom:1.6rem}
.btn{padding:1rem 3rem;font-size:1rem;border:none;border-radius:50px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.25);margin:0.4rem;color:#fff;background:#ff6ec7;transition:transform .25s}
.btn:hover{transform:scale(1.08) rotate(-2deg)}
#collection{background:#6a5acd}
.float{position:absolute;opacity:.8;animation:f 6s linear infinite;pointer-events:none}
@keyframes f{0%{transform:translateY(110vh) rotate(0deg);opacity:0}30%{opacity:1}100%{transform:translateY(-15vh) rotate(360deg);opacity:0}}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;justify-content:center;align-items:center}
.modal-inner{background:#fff;padding:20px;border-radius:12px;max-width:90%;width:320px;text-align:left}
.modal h2{margin-bottom:.6rem;color:#ff6ec7}
.close{cursor:pointer;font-size:1.3rem;position:absolute;top:10px;right:16px}
</style></head><body>
<h1>推しタイプ占い ✦ ai‑mikuji</h1>
<button class="btn" onclick="location.href='result.html'">ランダムで引く</button>
<button class="btn" onclick="location.href='quiz.html'">診断モードへ</button>
<button class="btn" id="collection">My コレクション</button>

<!-- floating emojis -->
<script>
const em=['⭐','🌙','💖','✨','💫'];
for(let i=0;i<40;i++){const s=document.createElement('span');s.className='float';s.textContent=em[Math.random()*em.length|0];s.style.left=Math.random()*100+'vw';s.style.fontSize=Math.random()*26+16+'px';s.style.animationDuration=Math.random()*6+6+'s';s.style.animationDelay=Math.random()*4+'s';document.body.appendChild(s);}

</script>

<!-- Collection modal -->
<div class="modal" id="modal">
  <div class="modal-inner">
    <span class="close" onclick="toggle(false)">✕</span>
    <h2>獲得履歴</h2>
    <div id="history"></div>
  </div>
</div>
<script>
function toggle(show){document.getElementById('modal').style.display=show?'flex':'none'}
document.getElementById('collection').onclick=()=>{renderHist();toggle(true)};
function renderHist(){
  const h=JSON.parse(localStorage.getItem('history')||'[]');
  const counts={};h.forEach(v=>counts[v]=(counts[v]||0)+1);
  let html=h.length?'<ul>'+Object.entries(counts).map(([k,v])=>`<li>${k} × ${v}</li>`).join('')+'</ul>':'まだありません';
  document.getElementById('history').innerHTML=html;
}
</script>
</body></html>
<!-- 再デプロイ用コメント -->
